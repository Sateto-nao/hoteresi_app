<div class="container">
  <div class="card mb-3">
    <%= image_tag @hotel.hotel_img.to_s, {width: "100%",  height: "450"} %>
    <div class="card-body">
      <h5 class="card-title"><%= @hotel.hotel_name %></h5>
      <p class="card-text">Address: </br>〒<%= @hotel.postcode.to_s.insert(3, "-") %></p>
      <p class="card-text"><%= @hotel.prefecture_code %><%= @hotel.address_city %><%= @hotel.address_street %></p>
      <p class="card-text text-right">Tell: <%= @hotel.tell %></p>
      <p class="card-text text-right">Email: <%= @hotel.email %></p>
    </div>
    <div class="text-right pr-2">
      <p><small class="text-muted">Update: <%= @hotel.updated_at.strftime('%Y/%m/%d') %></small></p>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-12 col-md-6">
      <div class="message">
        <h4 class="text-muted">Hotel message</h4>
        <p class="p-2"><%= @hotel.introduction %></p>
      </div>
    </div>
  <style>.message{ height: 400px; }</style>
  <div class="col-12 col-md-6">
    <h4 class="text-muted">ホテル位置</h4>
    <div id='map'></div>
    <style>#map{ height: 400px;}</style>
    <script>
      let map;
      function initMap() {
        geocoder = new google.maps.Geocoder()
        map = new google.maps.Map(document.getElementById('map'), {
          center: { lat: gon.hotel.latitude, lng: gon.hotel.longitude },
          zoom: 17,
        });
        marker = new google.maps.Marker({
          position: { lat: gon.hotel.latitude, lng: gon.hotel.longitude },
          map: map
        });
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV["GOOGLE_MAP_API"] %>&callback=initMap" async defer></script>
  </div>
    </div>
  <div class="col-12 mt-5">
    <% @hotel.rooms.each do |room| %>
    <div class="card mb-3">
      <div class="row no-gutters">
        <div class="col-md-7">
          <%= image_tag room.room_img.to_s, {width: "100%",  height: "300"} %>
        </div>
        <div class="col-md-5">
          <div class="card-body">
            <h5 class="card-title"><%= link_to room.room_name, hotel_room_path(hotel_id: room.hotel_id, id: room.id)%></h5>
          </div>
          <div class="text-right pr-2">
            <small class="text-muted">Update: <%= room.updated_at.strftime('%Y/%m/%d') %></small>
          </div>
        </div>
      </div>
    </div>
    <% end %>
  </div>
</div>
